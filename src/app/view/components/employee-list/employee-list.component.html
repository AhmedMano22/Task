<div class="container py-4">
  <div class="row mb-5">
    <div class="col-md-6 col-12">
      <div class="row">
        <div class="col-md-6 col-12 mt-2">
          <div class="flex-grow-1">
            <input type="text" pInputText placeholder="Search employees..." (input)="onSearch($event)" class="w-100" />
       
          </div>
        </div>
        <div class="col-md-6 col-12 mt-2">
          <p-dropdown
            [options]="statusOptions"
            [(ngModel)]="selectedStatus"
            (onChange)="onStatusChange($event)"
            class="w-100 w-md-auto d-block"
            placeholder="Select Status"
          ></p-dropdown>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-12 mt-2">
      <p-button
        label="Add Employee"
        class="d-block text-end"
        (click)="onAddEmployee()"
      ></p-button>
    </div>
  </div>

  <div *ngIf="(employees$ | async) as employees; else notFound">
    <div class="row row-cols-1 row-cols-md-3 g-4" *ngIf="employees.length > 0; else notFound">
      <div class="col" *ngFor="let employee of employees">
        <app-employee-card
          [employee]="employee"
          (edit)="onEditEmployee($event)"
          (delete)="onDeleteEmployee($event)"
        ></app-employee-card>
      </div>
    </div>
  </div>

  <ng-template #notFound>
    <div class="text-center py-4">
      <p class="text-muted fs-5">No employees found.</p>
    </div>
  </ng-template>

  <app-employee-form
    [visible]="showForm"
    [employee]="selectedEmployee"
    (save)="onSaveEmployee($event)"
    (cancel)="onCancelForm()"
  ></app-employee-form>

  <p-confirmDialog></p-confirmDialog>
</div>